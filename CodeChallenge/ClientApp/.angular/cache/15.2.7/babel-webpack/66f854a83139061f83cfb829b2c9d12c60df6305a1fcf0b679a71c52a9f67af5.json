{"ast":null,"code":"import { FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nexport class CustomerFormComponent {\n  constructor(formBuilder, router, activatedRoute) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.isEditing = false; // Indicates whether we are editing an existing customer\n    this.customerId = null; // ID of the customer being edited\n  }\n\n  ngOnInit() {\n    this.customerForm = this.formBuilder.group({\n      firstname: ['', Validators.required],\n      lastname: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      phone_Number: [''],\n      country_code: [''],\n      gender: [''],\n      balance: [0, Validators.min(0)],\n      currency: ['']\n    });\n    // Check if we are in edit mode (URL contains an ID)\n    this.customerId = this.activatedRoute.snapshot.params['id'];\n    if (this.customerId) {\n      this.isEditing = true;\n      // Fetch customer data by ID and pre-fill the form for editing\n      // You should implement this logic using HttpClient\n      // Example: this.fetchCustomerData(this.customerId);\n    }\n  }\n  // Implement a method to fetch customer data by ID (using HttpClient) if in edit mode\n  saveCustomer() {\n    if (this.customerForm.valid) {\n      const formData = this.customerForm.value;\n      // Implement logic to save the customer data (create or update)\n      // Use formData to get the form data\n      // After saving, navigate back to the customer list or another page\n      this.router.navigate(['/customers']);\n    } else {\n      // Form is invalid, display validation errors\n      // You can mark controls as touched to trigger validation messages\n      this.markFormGroupTouched(this.customerForm);\n    }\n  }\n  // Helper method to mark all form controls as touched to trigger validation messages\n  markFormGroupTouched(formGroup) {\n    Object.values(formGroup.controls).forEach(control => {\n      control.markAsTouched();\n      if (control instanceof FormGroup) {\n        this.markFormGroupTouched(control);\n      }\n    });\n  }\n}\nCustomerFormComponent.ɵfac = function CustomerFormComponent_Factory(t) {\n  return new (t || CustomerFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nCustomerFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CustomerFormComponent,\n  selectors: [[\"app-customer-form\"]],\n  decls: 2,\n  vars: 0,\n  template: function CustomerFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"customer-form works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAAsBA,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;;;;AASnE,OAAM,MAAOC,qBAAqB;EAKhCC,YACUC,WAAwB,EACxBC,MAAc,EACdC,cAA8B;IAF9B,gBAAW,GAAXF,WAAW;IACX,WAAM,GAANC,MAAM;IACN,mBAAc,GAAdC,cAAc;IANxB,cAAS,GAAY,KAAK,CAAC,CAAC;IAC5B,eAAU,GAAkB,IAAI,CAAC,CAAC;EAM9B;;EAEJC,QAAQ;IACN,IAAI,CAACC,YAAY,GAAG,IAAI,CAACJ,WAAW,CAACK,KAAK,CAAC;MACzCC,SAAS,EAAE,CAAC,EAAE,EAAET,UAAU,CAACU,QAAQ,CAAC;MACpCC,QAAQ,EAAE,CAAC,EAAE,EAAEX,UAAU,CAACU,QAAQ,CAAC;MACnCE,KAAK,EAAE,CAAC,EAAE,EAAE,CAACZ,UAAU,CAACU,QAAQ,EAAEV,UAAU,CAACY,KAAK,CAAC,CAAC;MACpDC,YAAY,EAAE,CAAC,EAAE,CAAC;MAClBC,YAAY,EAAE,CAAC,EAAE,CAAC;MAClBC,MAAM,EAAE,CAAC,EAAE,CAAC;MACZC,OAAO,EAAE,CAAC,CAAC,EAAEhB,UAAU,CAACiB,GAAG,CAAC,CAAC,CAAC,CAAC;MAC/BC,QAAQ,EAAE,CAAC,EAAE;KACd,CAAC;IAEF;IACA,IAAI,CAACC,UAAU,GAAG,IAAI,CAACd,cAAc,CAACe,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;IAC3D,IAAI,IAAI,CAACF,UAAU,EAAE;MACnB,IAAI,CAACG,SAAS,GAAG,IAAI;MACrB;MACA;MACA;;EAEJ;EAEA;EAEAC,YAAY;IACV,IAAI,IAAI,CAAChB,YAAY,CAACiB,KAAK,EAAE;MAC3B,MAAMC,QAAQ,GAAG,IAAI,CAAClB,YAAY,CAACmB,KAAK;MACxC;MACA;MAEA;MACA,IAAI,CAACtB,MAAM,CAACuB,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;KACrC,MAAM;MACL;MACA;MACA,IAAI,CAACC,oBAAoB,CAAC,IAAI,CAACrB,YAAY,CAAC;;EAEhD;EAEA;EACQqB,oBAAoB,CAACC,SAAoB;IAC/CC,MAAM,CAACC,MAAM,CAACF,SAAS,CAACG,QAAQ,CAAC,CAACC,OAAO,CAACC,OAAO,IAAG;MAClDA,OAAO,CAACC,aAAa,EAAE;MAEvB,IAAID,OAAO,YAAYnC,SAAS,EAAE;QAChC,IAAI,CAAC6B,oBAAoB,CAACM,OAAO,CAAC;;IAEtC,CAAC,CAAC;EACJ;;AA3DWjC,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAAmC;EAAAC;EAAAC;EAAAC;IAAA;MCVlCC,yBAAG;MAAAA,oCAAoB;MAAAA,iBAAI","names":["FormGroup","Validators","CustomerFormComponent","constructor","formBuilder","router","activatedRoute","ngOnInit","customerForm","group","firstname","required","lastname","email","phone_Number","country_code","gender","balance","min","currency","customerId","snapshot","params","isEditing","saveCustomer","valid","formData","value","navigate","markFormGroupTouched","formGroup","Object","values","controls","forEach","control","markAsTouched","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\Users\\deshm\\source\\repos\\CodeChallenge\\CodeChallenge\\ClientApp\\src\\app\\customer-form\\customer-form.component.ts","C:\\Users\\deshm\\source\\repos\\CodeChallenge\\CodeChallenge\\ClientApp\\src\\app\\customer-form\\customer-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-customer-form',\n  templateUrl: './customer-form.component.html',\n  styleUrls: ['./customer-form.component.css']\n})\n\nexport class CustomerFormComponent implements OnInit {\n  customerForm: FormGroup; // The form group to manage form controls\n  isEditing: boolean = false; // Indicates whether we are editing an existing customer\n  customerId: string | null = null; // ID of the customer being edited\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private router: Router,\n    private activatedRoute: ActivatedRoute\n  ) { }\n\n  ngOnInit(): void {\n    this.customerForm = this.formBuilder.group({\n      firstname: ['', Validators.required],\n      lastname: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      phone_Number: [''],\n      country_code: [''],\n      gender: [''],\n      balance: [0, Validators.min(0)], // Assuming balance cannot be negative\n      currency: ['']\n    });\n\n    // Check if we are in edit mode (URL contains an ID)\n    this.customerId = this.activatedRoute.snapshot.params['id'];\n    if (this.customerId) {\n      this.isEditing = true;\n      // Fetch customer data by ID and pre-fill the form for editing\n      // You should implement this logic using HttpClient\n      // Example: this.fetchCustomerData(this.customerId);\n    }\n  }\n\n  // Implement a method to fetch customer data by ID (using HttpClient) if in edit mode\n\n  saveCustomer(): void {\n    if (this.customerForm.valid) {\n      const formData = this.customerForm.value;\n      // Implement logic to save the customer data (create or update)\n      // Use formData to get the form data\n\n      // After saving, navigate back to the customer list or another page\n      this.router.navigate(['/customers']);\n    } else {\n      // Form is invalid, display validation errors\n      // You can mark controls as touched to trigger validation messages\n      this.markFormGroupTouched(this.customerForm);\n    }\n  }\n\n  // Helper method to mark all form controls as touched to trigger validation messages\n  private markFormGroupTouched(formGroup: FormGroup): void {\n    Object.values(formGroup.controls).forEach(control => {\n      control.markAsTouched();\n\n      if (control instanceof FormGroup) {\n        this.markFormGroupTouched(control);\n      }\n    });\n  }\n}\n//export class CustomerFormComponent implements OnInit {\n//  customerForm: FormGroup;\n\n//  constructor(\n//    private formBuilder: FormBuilder,\n//    private router: Router,\n//    private activatedRoute: ActivatedRoute\n//  ) { }\n\n//  ngOnInit(): void {\n//    this.customerForm = this.formBuilder.group({\n//      id: [''], // Add form controls for customer properties with appropriate validators\n//      firstname: ['', Validators.required],\n//      lastname: ['', Validators.required],\n//      email: ['', [Validators.required, Validators.email]],\n//      // Add other form controls...\n//    });\n\n//    // Check if we are in edit mode (URL contains an ID)\n//    const customerId = this.activatedRoute.snapshot.params['id'];\n//    if (customerId) {\n//      // Fetch customer data by ID and pre-fill the form for editing\n//      // Implement this logic using HttpClient\n//    }\n//  }\n\n//  saveCustomer(): void {\n//    // Implement logic to save the customer data\n//    // Use this.customerForm.value to get the form data\n//    // Redirect back to the customer list after saving\n//    this.router.navigate(['/customers']);\n//  }\n//}\n","<p>customer-form works!</p>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}